<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Travel and transprt booking</title>
  <link rel="icon" type="image/x-icon" href="WhatsApp Image 2025-06-27 at 11.09.47 AM.ico">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="stylesheet" href="cabs.css"/>
  <style>
    /* Reset & Base */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Poppins', sans-serif;
      background: #f5f7fa;
      color: #333;
      line-height: 1.6;
      overflow-x: hidden;
    }

    /* Header */
    header {
      background: linear-gradient(135deg, #007bff, #00bfff);
      color: white;
      padding: 2rem 1rem;
      text-align: center;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      animation: slideInDown 1s ease-out;
    }
    header h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }
    header p {
      font-size: 1.2rem;
      opacity: 0.9;
    }

    /* Booking Form */
    .booking-form {
      max-width: 600px;
      margin: 2rem auto;
      background: white;
      padding: 2rem;
      border-radius: 15px;
      box-shadow: 0 12px 24px rgba(0,0,0,0.1);
      animation: fadeIn 1.2s ease-in-out;
    }
    .booking-form h2 {
      text-align: center;
      margin-bottom: 1.5rem;
      color: #007bff;
    }
    .booking-form input, 
    .booking-form select, 
    .booking-form button {
      width: 100%;
      padding: 12px 15px;
      margin: 10px 0;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 1rem;
      transition: 0.3s;
    }
    .booking-form input:focus,
    .booking-form select:focus {
      border-color: #007bff;
      outline: none;
      box-shadow: 0 0 8px rgba(0,123,255,0.3);
    }
    .booking-form button {
      background: linear-gradient(135deg, #28a745, #218838);
      color: #fff;
      border: none;
      cursor: pointer;
      font-weight: bold;
      transition: 0.3s;
    }
    .booking-form button:hover {
      background: linear-gradient(135deg, #218838, #1e7e34);
      transform: scale(1.03);
    }

    /* Cards Section */
    .destinations {
      text-align: center;
      margin-top: 2rem;
    }
    .cards {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 1rem;
      padding: 1rem;
      animation: fadeInUp 1s ease-in-out;
    }
    .card {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 6px 15px rgba(0,0,0,0.1);
      width: 280px;
      overflow: hidden;
      transition: 0.4s;
    }
    .card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      transition: transform 0.4s ease;
    }
    .card:hover img {
      transform: scale(1.1);
    }
    .card h3 {
      color: #007bff;
      margin: 0.5rem 0;
    }
    .card h4 {
      color: #555;
      margin-bottom: 1rem;
    }

    /* Footer */
    footer {
      background: #f1f1f1;
      text-align: center;
      padding: 1rem 0;
      margin-top: 2rem;
      font-size: 0.95rem;
    }
    .social-icons {
      margin-top: 10px;
    }
    .social-icons a {
      margin: 0 8px;
      color: #333;
      font-size: 1.5rem;
      transition: color 0.3s;
    }
    .social-icons a:hover {
      color: #007bff;
    }

    /* Floating Buttons */
    .floating-btn {
      position: fixed;
      right: 20px;
      bottom: 20px;
      display: flex;
      flex-direction: column;
      gap: 15px;
      z-index: 1000;
    }
    .floating-btn a {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 55px;
      height: 55px;
      background: #007bff;
      color: #fff;
      border-radius: 50%;
      font-size: 1.8rem;
      box-shadow: 0 8px 15px rgba(0,0,0,0.2);
      transition: 0.3s;
    }
    .floating-btn a:hover {
      background: #0056b3;
      transform: scale(1.1);
    }
    .floating-btn a.whatsapp {
      background: #25D366;
    }
    .floating-btn a.whatsapp:hover {
      background: #128C7E;
    }

    /* Animations */
    @keyframes slideInDown {
      from {opacity: 0; transform: translateY(-50px);}
      to {opacity: 1; transform: translateY(0);}
    }
    @keyframes fadeIn {
      from {opacity: 0;}
      to {opacity: 1;}
    }
    @keyframes fadeInUp {
      from {opacity: 0; transform: translateY(50px);}
      to {opacity: 1; transform: translateY(0);}
    }
  </style>
</head>
<body>
  <header>
    <h1>Ayya Thunai Cabs</h1>
    <p>Your journey begins here</p>
  </header>

  <section class="booking-form">
    <h2>Book Your Travel</h2>
    <form id="travelForm">
      <input type="text" id="name" placeholder="Full Name" required />
      <input list="locations" id="from" placeholder="From (e.g. Tirunelveli)" required />
      <input list="locations" id="to" placeholder="To (e.g. Chennai)" required />
      <datalist id="locations" size="5">
        <option value="Tirunelveli"></option>
        <option value="Madurai"></option>
        <option value="Thoothukudi"></option>
        <option value="Chennai"></option>
        <option value="Trichy"></option>
        <option value="Coimbatore"></option>
        <option value="Nagercoil"></option>
        <option value="Tenkasi"></option>
      </datalist>

      <input type="date" id="date" required />
      <input type="time" id="time" required />
      <select id="transport" required>
        <option value="">Select Transport</option>
        <option value="TOURIST VAN">TOURIST VAN</option>
        <option value="CAR">CAR</option>
        <option value="MAHENDIRA PICKUP">MAHENDIRA PICKUP</option>
        <option value="TATA ACE">TATA ACE</option>
        <option value="AUTO">AUTO</option>
      </select>

      <p id="message"></p>

      <button type="submit">CHECK AMOUNT</button>
    </form>

    <!-- Payment options -->
    <div class="payment-options" id="paymentOptions">
      <button onclick="confirmCOD()" class="button cod-button">💵 Cash on Delivery</button>
      <p class="success" id="codSuccess"></p>
    </div>
  </section>

  <section class="destinations">
    <h2>Our Services</h2>
    <div class="cards">
      <div class="card">
        <img src="auto.png" alt="AUTO"/>
        <h3>AUTO</h3>
        <h4>3+1</h4>
      </div>
      <div class="card">
        <img src="tata ace.png" alt="TATA ACE"/>
        <h3>TATA ACE</h3>
        <h4>1000kg</h4>
      </div>
      <div class="card">
        <img src="pickup.png" alt="MAHENDRA PICKUP"/>
        <h3>MAHENDRA PICKUP</h3>
        <h4>1800kg</h4>
      </div>
      <div class="card">
        <img src="car.png" alt="CAR"/>
        <h3>CAR</h3>
        <h4>4+1 | 7+1</h4>
      </div>
      <div class="card">
        <img src="tourist van.avif" alt="MARCOPOLO VAN"/>
        <h3>MARCOPOLO VAN</h3>
        <h4>20+1</h4>
      </div>
    </div>
  </section>

  <center>
    <h2>Our Location</h2>
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3944.051700719703!2d77.51665361020655!3d8.686633691325646!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3b043f3e231eb5bf%3A0xaa21f7897e78eb3c!2z4K6F4K6v4K-N4K6v4K6-IOCupOCvgeCuo-CviCDgrpXgr4fgrqrgr43grrjgr40!5e0!3m2!1sen!2sin!4v1751348261612!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
  </center>

  <footer>
    <p>&copy; 2025 Ayya Thunai Cabs & Travels</p>
    <p>Contact: 8754795314 | 8682906540</p>
    <div class="social-icons">
      <a href="https://www.instagram.com/ayya_thunai_cabs" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
      <a href="https://www.facebook.com/share/1J9NHWXJ8q/" target="_blank" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
      <a href="https://wa.me/918682905640" target="_blank" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
    </div>
  </footer>

  <script>
    const transportRates = {
      "TOURIST VAN": 22,
      "CAR": 16,
      "MAHENDIRA PICKUP": 16,
      "TATA ACE": 15,
      "AUTO": 12
    };

    async function getCoordinates(place) {
      const url = `https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(place)}&format=json&limit=1`;
      const response = await fetch(url, {
        headers: { 'User-Agent': 'AyyaThunaiTravels/1.0 (contact@example.com)' }
      });
      const data = await response.json();
      if (data.length === 0) throw new Error(`Location not found: ${place}`);
      return {
        lat: parseFloat(data[0].lat),
        lon: parseFloat(data[0].lon),
        name: data[0].display_name
      };
    }

    function toRadians(deg) {
      return deg * Math.PI / 180;
    }

    function haversineDistance(lat1, lon1, lat2, lon2) {
      const R = 6371;
      const dLat = toRadians(lat2 - lat1);
      const dLon = toRadians(lon2 - lon1);
      const a = Math.sin(dLat / 2) ** 2 +
                Math.cos(toRadians(lat1)) * Math.cos(toRadians(lat2)) *
                Math.sin(dLon / 2) ** 2;
      return 2 * R * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
    }

    document.getElementById("travelForm").addEventListener("submit", async function(event) {
      event.preventDefault();

      const from = document.getElementById("from").value.trim();
      const to = document.getElementById("to").value.trim();
      const transport = document.getElementById("transport").value.trim();
      const message = document.getElementById("message");
      const codSuccess = document.getElementById("codSuccess");
      const paymentOptions = document.getElementById("paymentOptions");

      codSuccess.textContent = "";
      message.textContent = "Calculating...";
      paymentOptions.style.display = "none";

      try {
        const [fromCoord, toCoord] = await Promise.all([
          getCoordinates(from),
          getCoordinates(to)
        ]);
      
        // Calculate distance FROM → TO
const distance = haversineDistance(fromCoord.lat, fromCoord.lon, toCoord.lat, toCoord.lon);

// Get Veeravanallur coordinates
const veeravanallurCoord = await getCoordinates("Veeravanallur");

// Calculate distance Veeravanallur → FROM
const distanceFromVeeravanallur = haversineDistance(
  veeravanallurCoord.lat, veeravanallurCoord.lon,
  fromCoord.lat, fromCoord.lon
);

// Calculate distance Veeravanallur → TO
const distanceToVeeravanallur = haversineDistance(
  veeravanallurCoord.lat, veeravanallurCoord.lon,
  toCoord.lat, toCoord.lon
);

// Calculate total price for FROM → TO only
const pricePerKm = transportRates[transport];
const totalPrice = distance * pricePerKm;
const roundedPrice = totalPrice.toFixed(2);

// Show all distances
message.innerHTML = `
  Distance from <strong>${fromCoord.name}</strong> to <strong>${toCoord.name}</strong>: <strong>${distance.toFixed(2)} km</strong><br>
  Distance from <strong>Veeravanallur</strong> to <strong>${fromCoord.name}</strong>: <strong>${distanceFromVeeravanallur.toFixed(2)} km</strong><br>
  Distance from <strong>Veeravanallur</strong> to <strong>${toCoord.name}</strong>: <strong>${distanceToVeeravanallur.toFixed(2)} km</strong><br>
  Total Price for <strong>${transport}</strong>: ₹<strong>${roundedPrice}</strong> + toll charges
`;

paymentOptions.dataset.amount = roundedPrice;
paymentOptions.style.display = "block";


      } catch (error) {
        message.textContent = "❗ " + error.message;
      }
    });

    function confirmCOD() {
      const amount = document.getElementById("paymentOptions").dataset.amount;
      document.getElementById("codSuccess").textContent = `💵 Booking confirmed. Please pay ₹${amount} + toll charges on delivery.`;
    }
  </script>
</body>
</html>
